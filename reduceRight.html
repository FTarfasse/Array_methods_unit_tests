<script src="../simpleTest.js"></script>
<script>

// reduceRight([0, 1, 2, 3, 4], function(accumulator, currentValue, index, array) {
//   return accumulator + currentValue;
// }, 10);

function reduceRight(array, callback, accumulator) {

	if(Array.isArray(array) === false) {
		throw new TypeError ('.reduceRight is not a function')
	} else {
		for(var i = 0; i < array.length; i++) {
			callback(accumulator, array[i], i, array)
		}
	}
}

tests({
	'It should take an array as argument': function() { 
		var testArray = [1, 2, 3];
		reduceRight(testArray, function(){})
		eq(Array.isArray(testArray), true)
	},
	'It should throw a TyperError if argument is not an array': function() { 
		var fakeArray = {};
		try {
			reduceRight(fakeArray, function(){})
		} catch(e) {
			eq(e instanceof Error, true)
		}
	},
	'It should execute the callback on each element of the array': function() { 
		var testArray = [1, 2, 3];
		var numberOfcallbacks = 0;
		reduceRight(testArray, function() {
			numberOfcallbacks++;
		})
		eq(numberOfcallbacks, 3)
	},
	'It should have an accumulator as first argument of the callback': function() {
		var testArray = [1, 2, 3];
		reduceRight(testArray, function(accumulator) {
			eq(accumulator, 10)
		}, 10)
	},
	'It should have the current value as second argument of the callback': function() {
		var testArray = [1];
		reduceRight(testArray, function(accumulator, currentValue) {
			eq(currentValue, 1)
		}, 10)
	},
	'It should have the element position as third argument of the callback': function() {
		var testArray = [1];
		reduceRight(testArray, function(accumulator, currentValue, index) {
			eq(index, 0)
		}, 10)
	},
	'It should have the orginal array as fourth argument of the callback': function() {
		var testArray = [1];
		reduceRight(testArray, function(accumulator, currentValue, index, array) {
			eq(testArray, array)
		}, 10)
	},
	'If accumulator is supplied, the initial value will be the last element of the array': function() { 
		fail();
	},
	'If accumulator is supplied and array is empty, it should return the accumulator argument without calling callback': function() { 
		fail();
	},
	'If no accumulator argument is supplied and array is not empty, the last element in the array will be used as accumulator': function() { 
		fail();
	},
	'If no accumulator argument and array has one element, it should return that element without executing callback': function() { 
		fail();
	},
	'It should throw an Error if array is empty and no accumulator argument': function() { 
		fail();
	},
	'It should skip holes': function() { 
		fail();
	},
	'It should reduce': function() { 
		fail();
	},
});

</script>