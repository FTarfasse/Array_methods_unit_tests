<script src="../simpleTest.js"></script>
<script>

'use strict'
// prototype
// function indexOf(array, searchElement, startingIndex) {
// }

function indexOf(item, searchedElement, startingIndex) {

  if(startingIndex) {
    i = startingIndex;
  } else {
    startingIndex = 0;
  };

  // if(Array.isArray(item) === false) {
  if(!(typeof(item) === 'string' || Array.isArray(item) === true)) {

    throw new TypeError ('Invalid or unexpected token')

  } for(var i = startingIndex; i < item.length; i++) {

    if(item[i] === searchedElement) {
      return i;
    }
  } return -1;
};

tests({
  'It should throw an error if the first argument is not an object of array type': function() {
    var fakeArray = {name: 'Julie'}
    try {
      indexOf(fakeArray)
    } catch(e) {
      var err = (e instanceof TypeError)
    }
    eq(err, true)
  },
  'It should return the index of the first element set as argument': function() {
    // debugger;
    var fruits = ['fraises', 'pêches'];
    var result = indexOf(fruits, 'pêches');
    eq(result, 1)
  },
  'It should look for a strict equality on the searched element': function() {
    var fruits = ['fraises', 'pêches'];
    var result = indexOf(fruits, 'peches');
    eq(result, -1)
  },
  'It should -1 if the element is not present': function() {
    var fruits = ['fraises', 'pêches'];
    var result = indexOf(fruits, 'peches');
    eq(result, -1)
  },
  'It should start from the given index if any': function() {
    var fruits = ['fraises', 'pêches', 'oranges', 'mangues', 'cerises'];
    var result = indexOf(fruits, 'peches', 2);
    eq(result, -1)
  },
  'It should accept a string as argument': function() {
    var result = indexOf('aaaafa', 'f');
    eq(result, 4)
  },
});

</script>