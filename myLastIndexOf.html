<script src="../simpleTest.js"></script>
<script>

'use strict'
function myLastIndexOf(item, searchedElement, startingIndex) {

  var i = item.length - 1;

  if(startingIndex) {
    i = startingIndex;
  } 

  if(!(Array.isArray(item) === true || typeof(item) === 'string')) {

    throw new TypeError ('Invalid or unexpected token')

  }

    for(i; i >= 0; i--) {
      if(item[i] === searchedElement) {
        return i;
    }
    } return -1;

};

tests({
  'It should throw an error if the first argument is not an object of array type': function() {
    var fakeArray = {name: 'Julie'}
    try {
      myLastIndexOf(fakeArray)
    } catch(e) {
      var err = (e instanceof TypeError)
    }
    eq(err, true)
  },
  'It should return the index of the last element set as argument': function() {
    var fruits = ['fraises', 'pêches',,,,,'pêches',,,];
    var result = myLastIndexOf(fruits, 'pêches');
    eq(result, 6)
  },
  'It should look for a strict equality on the searched element': function() {
    var fruits = ['fraises', 'pêches'];
    var result = myLastIndexOf(fruits, 'peches');
    eq(result, -1)
  },
  'It should return -1 if the element is not present': function() {
    var fruits = ['fraises', 'pêches'];
    var result = myLastIndexOf(fruits, 'peches');
    eq(result, -1)
  },
  'It should start from the given index if any to the beginning': function() {
    var fruits = ['fraises', 'pêches', 'oranges', 'mangues', 'cerises'];
    var result = myLastIndexOf(fruits, 'peches', 2);
    eq(result, -1)
  },
  'It should accept a string as argument': function() {
    var result = myLastIndexOf('aaaafaaaafaaafaaafaaaaafa', 'f');
    eq(result, 23)
  },
});

</script>